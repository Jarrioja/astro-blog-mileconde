---
import Layout from "../layouts/default.astro";
import PostsGrid from "@components/PostsGrid.astro";
import { homePagePostsQuery, getAllUris, getNodeByURI } from "../lib/worpdress";
import type { HomepagePostsQuery, GetAllUris } from "../interfaces/";
import type { GetNodeByURI } from "../interfaces/getNodeByURI";

const { nodeByUri: node }: GetNodeByURI = await getNodeByURI("/");
const { seo, featuredImage } = node;

const { posts }: HomepagePostsQuery = await homePagePostsQuery();
---

<Layout
  title={seo.title}
  description={seo.metaDesc}
  schema={seo.schema.raw}
  canonical={seo.canonical}
  image={featuredImage}
>
  <PostsGrid {posts} />
</Layout>

<style>
  .elementor-25719 .elementor-element.elementor-element-7b12a6d {
    --display: flex;
    --flex-direction: column;
    --container-widget-width: 100%;
    --container-widget-height: initial;
    --container-widget-flex-grow: 0;
    --container-widget-align-self: initial;
    --background-transition: 0.3s;
  }
  .elementor-25719 .elementor-element.elementor-element-2424a75 {
    --display: flex;
    --flex-direction: column;
    --container-widget-width: 100%;
    --container-widget-height: initial;
    --container-widget-flex-grow: 0;
    --container-widget-align-self: initial;
    --background-transition: 0.3s;
  }
</style>
